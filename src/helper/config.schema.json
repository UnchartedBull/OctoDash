{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "additionalProperties": false,
  "definitions": {
    "customAction": {
      "additionalProperties": false,
      "properties": {
        "color": {
          "pattern": "^(.*)$",
          "type": "string"
        },
        "command": {
          "pattern": "^(.*)$",
          "type": "string"
        },
        "confirm": {
          "type": "boolean"
        },
        "exit": {
          "type": "boolean"
        },
        "icon": {
          "pattern": "^(.*)$",
          "type": "string"
        }
      },
      "required": [
        "icon",
        "command",
        "color",
        "confirm",
        "exit"
      ],
      "type": "object"
    }
  },
  "properties": {
    "filament": {
      "$id": "#/filament",
      "additionalProperties": false,
      "properties": {
        "density": {
          "default": 1.25,
          "type": "number"
        },
        "feedLength": {
          "default": 0,
          "type": "integer"
        },
        "feedSpeed": {
          "default": 20,
          "type": "number"
        },
        "feedSpeedSlow": {
          "default": 3,
          "type": "number"
        },
        "purgeDistance": {
          "default": 30,
          "type": "integer"
        },
        "thickness": {
          "default": 1.75,
          "type": "number"
        },
        "useM600": {
          "default": false,
          "type": "boolean"
        }
      },
      "required": [
        "density",
        "thickness",
        "feedLength",
        "feedSpeed",
        "feedSpeedSlow",
        "purgeDistance",
        "useM600"
      ],
      "type": "object"
    },
    "octodash": {
      "$id": "#/octodash",
      "additionalProperties": false,
      "properties": {
        "customActions": {
          "$id": "#/octodash/customActions",
          "default": [
            {
              "color": "#dcdde1",
              "command": "G28",
              "confirm": false,
              "exit": true,
              "icon": "house"
            },
            {
              "color": "#4bae50",
              "command": "G29",
              "confirm": false,
              "exit": true,
              "icon": "ruler-vertical"
            },
            {
              "color": "#e1b12c",
              "command": "M140 S50; M104 S185",
              "confirm": false,
              "exit": true,
              "icon": "fire-flame-curved"
            },
            {
              "color": "#0097e6",
              "command": "M140 S0; M104 S0",
              "confirm": false,
              "exit": true,
              "icon": "snowflake"
            },
            {
              "color": "#7f8fa6",
              "command": "[!RELOAD]",
              "confirm": true,
              "exit": false,
              "icon": "rotate-right"
            },
            {
              "color": "#e84118",
              "command": "[!SHUTDOWN]",
              "confirm": true,
              "exit": false,
              "icon": "power-off"
            }
          ],
          "items": {
            "$ref": "#/definitions/customAction"
          },
          "type": "array"
        },
        "defaultDirectory": {
          "default": "/",
          "pattern": "^/(.*)$",
          "type": "string"
        },
        "fileSorting": {
          "$id": "#/octodash/fileSorting",
          "additionalProperties": false,
          "properties": {
            "attribute": {
              "default": "name",
              "enum": [
                "name",
                "date",
                "size"
              ],
              "type": "string"
            },
            "order": {
              "default": "asc",
              "enum": [
                "asc",
                "dsc"
              ],
              "type": "string"
            }
          },
          "required": [
            "attribute",
            "order"
          ],
          "type": "object"
        },
        "invertAxisControl": {
          "$id": "#/octodash/invertAxisControl",
          "additionalProperties": false,
          "properties": {
            "x": {
              "default": false,
              "type": "boolean"
            },
            "y": {
              "default": false,
              "type": "boolean"
            },
            "z": {
              "default": false,
              "type": "boolean"
            }
          },
          "required": [
            "x",
            "y",
            "z"
          ],
          "type": "object"
        },
        "pollingInterval": {
          "default": 2000,
          "type": "integer"
        },
        "preferPreviewWhilePrinting": {
          "default": false,
          "type": "boolean"
        },
        "previewProgressCircle": {
          "default": false,
          "type": "boolean"
        },
        "screenSleepCommand": {
          "default": "xset dpms force standby",
          "pattern": "^(.*)$",
          "type": "string"
        },
        "screenWakeupCommand": {
          "default": "xset s off && xset -dpms && xset s noblank",
          "pattern": "^(.*)$",
          "type": "string"
        },
        "showActionCenterIcon": {
          "default": true,
          "type": "boolean"
        },
        "showExtruderControl": {
          "default": true,
          "type": "boolean"
        },
        "touchscreen": {
          "default": true,
          "type": "boolean"
        },
        "turnOnPrinterWhenExitingSleep": {
          "default": false,
          "type": "boolean"
        },
        "turnScreenOffWhileSleeping": {
          "default": true,
          "type": "boolean"
        }
      },
      "required": [
        "customActions",
        "fileSorting",
        "invertAxisControl",
        "pollingInterval",
        "touchscreen",
        "turnScreenOffWhileSleeping",
        "turnOnPrinterWhenExitingSleep",
        "preferPreviewWhilePrinting",
        "previewProgressCircle",
        "screenSleepCommand",
        "screenWakeupCommand",
        "showExtruderControl",
        "showActionCenterIcon",
        "defaultDirectory"
      ],
      "type": "object"
    },
    "octoprint": {
      "$id": "#/octoprint",
      "additionalProperties": false,
      "properties": {
        "accessToken": {
          "default": "",
          "pattern": "^(.*)$",
          "type": "string"
        },
        "url": {
          "default": "http://localhost:5000/",
          "pattern": "^(.*)$",
          "type": "string"
        }
      },
      "required": [
        "accessToken",
        "url"
      ],
      "type": "object"
    },
    "plugins": {
      "$id": "#/plugins",
      "additionalProperties": false,
      "properties": {
        "companion": {
          "additionalProperties": false,
          "properties": {
            "enabled": {
              "default": true,
              "type": "boolean"
            }
          },
          "required": [
            "enabled"
          ],
          "type": "object"
        },
        "displayLayerProgress": {
          "additionalProperties": false,
          "properties": {
            "enabled": {
              "default": true,
              "type": "boolean"
            }
          },
          "required": [
            "enabled"
          ],
          "type": "object"
        },
        "enclosure": {
          "additionalProperties": false,
          "properties": {
            "ambientSensorID": {
              "default": null,
              "type": [
                "number",
                "null"
              ]
            },
            "enabled": {
              "default": true,
              "type": "boolean"
            },
            "filament1SensorID": {
              "default": null,
              "type": [
                "number",
                "null"
              ]
            },
            "filament2SensorID": {
              "default": null,
              "type": [
                "number",
                "null"
              ]
            }
          },
          "required": [
            "enabled",
            "ambientSensorID",
            "filament1SensorID",
            "filament2SensorID"
          ],
          "type": "object"
        },
        "filamentManager": {
          "additionalProperties": false,
          "properties": {
            "enabled": {
              "default": false,
              "type": "boolean"
            }
          },
          "required": [
            "enabled"
          ],
          "type": "object"
        },
        "ophom": {
          "additionalProperties": false,
          "properties": {
            "enabled": {
              "default": false,
              "type": "boolean"
            }
          },
          "required": [
            "enabled"
          ],
          "type": "object"
        },
        "preheatButton": {
          "additionalProperties": false,
          "properties": {
            "enabled": {
              "default": true,
              "type": "boolean"
            }
          },
          "required": [
            "enabled"
          ],
          "type": "object"
        },
        "printTimeGenius": {
          "additionalProperties": false,
          "properties": {
            "enabled": {
              "default": true,
              "type": "boolean"
            }
          },
          "required": [
            "enabled"
          ],
          "type": "object"
        },
        "psuControl": {
          "additionalProperties": false,
          "properties": {
            "enabled": {
              "default": false,
              "type": "boolean"
            }
          },
          "required": [
            "enabled"
          ],
          "type": "object"
        },
        "spoolManager": {
          "additionalProperties": false,
          "properties": {
            "enabled": {
              "default": false,
              "type": "boolean"
            }
          },
          "required": [
            "enabled"
          ],
          "type": "object"
        },
        "tasmota": {
          "additionalProperties": false,
          "properties": {
            "enabled": {
              "default": false,
              "type": "boolean"
            },
            "index": {
              "default": null,
              "type": [
                "number",
                "null"
              ]
            },
            "ip": {
              "default": "127.0.0.1",
              "type": "string"
            }
          },
          "required": [
            "enabled",
            "ip",
            "index"
          ],
          "type": "object"
        },
        "tasmotaMqtt": {
          "additionalProperties": false,
          "properties": {
            "enabled": {
              "default": false,
              "type": "boolean"
            },
            "relayNumber": {
              "default": null,
              "type": [
                "number",
                "null"
              ]
            },
            "topic": {
              "default": "topic",
              "type": "string"
            }
          },
          "required": [
            "enabled",
            "topic",
            "relayNumber"
          ],
          "type": "object"
        },
        "tpLinkSmartPlug": {
          "additionalProperties": false,
          "properties": {
            "enabled": {
              "default": false,
              "type": "boolean"
            },
            "smartPlugIP": {
              "default": "127.0.0.1",
              "type": "string"
            }
          },
          "required": [
            "enabled",
            "smartPlugIP"
          ],
          "type": "object"
        },
        "tuya": {
          "additionalProperties": false,
          "properties": {
            "enabled": {
              "default": false,
              "type": "boolean"
            },
            "label": {
              "default": "label",
              "type": "string"
            }
          },
          "required": [
            "enabled",
            "label"
          ],
          "type": "object"
        },
        "wemo": {
          "additionalProperties": false,
          "properties": {
            "enabled": {
              "default": false,
              "type": "boolean"
            },
            "ip": {
              "default": "127.0.0.1",
              "type": "string"
            },
            "port": {
              "default": 49152,
              "type": "number"
            }
          },
          "required": [
            "enabled",
            "ip"
          ],
          "type": "object"
        }
      },
      "required": [
        "companion",
        "displayLayerProgress",
        "enclosure",
        "filamentManager",
        "spoolManager",
        "preheatButton",
        "printTimeGenius",
        "psuControl",
        "ophom",
        "tpLinkSmartPlug",
        "tuya",
        "tasmota",
        "tasmotaMqtt",
        "wemo"
      ],
      "type": "object"
    },
    "printer": {
      "$id": "#/printer",
      "additionalProperties": false,
      "properties": {
        "defaultTemperatureFanSpeed": {
          "$id": "#/printer/defaultTemperatureFanSpeed",
          "additionalProperties": false,
          "properties": {
            "fan": {
              "default": 100,
              "type": "integer"
            },
            "heatbed": {
              "default": 60,
              "type": "integer"
            },
            "hotend": {
              "default": 200,
              "type": "integer"
            }
          },
          "required": [
            "hotend",
            "heatbed",
            "fan"
          ],
          "type": "object"
        },
        "disableExtruderGCode": {
          "default": "M18 E",
          "pattern": "^(.*)$",
          "type": "string"
        },
        "name": {
          "default": "",
          "pattern": "^(.*)$",
          "type": "string"
        },
        "xySpeed": {
          "default": 150,
          "type": "integer"
        },
        "zBabystepGCode": {
          "default": "M290 Z",
          "pattern": "^(.*)$",
          "type": "string"
        },
        "zSpeed": {
          "default": 5,
          "type": "integer"
        }
      },
      "required": [
        "name",
        "xySpeed",
        "zSpeed",
        "disableExtruderGCode",
        "zBabystepGCode",
        "defaultTemperatureFanSpeed"
      ],
      "type": "object"
    }
  },
  "required": [
    "octoprint",
    "printer",
    "filament",
    "plugins",
    "octodash"
  ],
  "type": "object"
}
