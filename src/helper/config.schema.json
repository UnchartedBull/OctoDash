{
  "definitions": {
    "customAction": {
      "type": "object",
      "required": ["icon", "command", "color", "confirm", "exit"],
      "properties": {
        "icon": {
          "type": "string",
          "pattern": "^(.*)$"
        },
        "command": {
          "type": "string",
          "pattern": "^(.*)$"
        },
        "color": {
          "type": "string",
          "pattern": "^(.*)$"
        },
        "confirm": {
          "type": "boolean"
        },
        "exit": {
          "type": "boolean"
        }
      },
      "additionalProperties": false
    }
  },
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "http://example.com/root.json",
  "type": "object",
  "required": ["octoprint", "printer", "filament", "plugins", "octodash"],
  "properties": {
    "octoprint": {
      "$id": "#/octoprint",
      "type": "object",
      "required": ["accessToken", "url"],
      "properties": {
        "accessToken": {
          "$id": "#/octoprint/accessToken",
          "type": "string",
          "pattern": "^(.*)$",
          "default": ""
        },
        "url": {
          "$id": "#/octoprint/url",
          "type": "string",
          "pattern": "^(.*)$",
          "default": "http://localhost:5000/"
        }
      },
      "additionalProperties": false
    },
    "printer": {
      "$id": "#/printer",
      "type": "object",
      "required": ["name", "xySpeed", "zSpeed", "disableExtruderGCode", "zBabystepGCode", "defaultTemperatureFanSpeed"],
      "properties": {
        "name": {
          "$id": "#/printer/name",
          "type": "string",
          "pattern": "^(.*)$",
          "default": ""
        },
        "xySpeed": {
          "$id": "#/printer/xySpeed",
          "type": "integer",
          "default": 150
        },
        "zSpeed": {
          "$id": "#/printer/zSpeed",
          "type": "integer",
          "default": 5
        },
        "disableExtruderGCode": {
          "$id": "#/printer/disableExtruderGCode",
          "type": "string",
          "pattern": "^(.*)$",
          "default": "M18 E"
        },
        "zBabystepGCode": {
          "$id": "#/printer/zBabystepGCode",
          "type": "string",
          "pattern": "^(.*)$",
          "default": "M290 Z"
        },
        "defaultTemperatureFanSpeed": {
          "$id": "#/printer/defaultTemperatureFanSpeed",
          "type": "object",
          "required": ["hotend", "heatbed", "fan"],
          "properties": {
            "hotend": {
              "$id": "#/printer/defaultTemperatureFanSpeed/hotend",
              "type": "integer",
              "default": 200
            },
            "heatbed": {
              "$id": "#/printer/defaultTemperatureFanSpeed/heatbed",
              "type": "integer",
              "default": 60
            },
            "fan": {
              "$id": "#/printer/defaultTemperatureFanSpeed/fan",
              "type": "integer",
              "default": 100
            }
          },
          "additionalProperties": false
        }
      },
      "additionalProperties": false
    },
    "filament": {
      "$id": "#/filament",
      "type": "object",
      "required": ["density", "thickness", "feedLength", "feedSpeed", "feedSpeedSlow", "purgeDistance", "useM600"],
      "properties": {
        "density": {
          "$id": "#/filament/density",
          "type": "number",
          "default": 1.25
        },
        "thickness": {
          "$id": "#/filament/thickness",
          "type": "number",
          "default": 1.75
        },
        "feedLength": {
          "$id": "#/filament/feedLength",
          "type": "integer",
          "default": 0
        },
        "feedSpeed": {
          "$id": "#/filament/feedSpeed",
          "type": "number",
          "default": 20
        },
        "feedSpeedSlow": {
          "$id": "#/filament/feedSpeedSlow",
          "type": "number",
          "default": 3
        },
        "purgeDistance": {
          "$id": "#/filament/purgeDistance",
          "type": "integer",
          "default": 30
        },
        "useM600": {
          "$id": "#/filament/useM600",
          "type": "boolean",
          "default": false
        }
      },
      "additionalProperties": false
    },
    "plugins": {
      "$id": "#/plugins",
      "type": "object",
      "required": [
        "companion",
        "displayLayerProgress",
        "enclosure",
        "filamentManager",
        "spoolManager",
        "preheatButton",
        "printTimeGenius",
        "psuControl",
        "ophom",
        "tpLinkSmartPlug",
        "tuya",
        "tasmota",
        "tasmotaMqtt",
        "wemo"
      ],
      "properties": {
        "companion": {
          "$id": "#/plugins/companion",
          "type": "object",
          "required": ["enabled"],
          "properties": {
            "enabled": {
              "$id": "#/plugins/companion/enabled",
              "type": "boolean",
              "default": true
            }
          },
          "additionalProperties": false
        },
        "displayLayerProgress": {
          "$id": "#/plugins/displayLayerProgress",
          "type": "object",
          "required": ["enabled"],
          "properties": {
            "enabled": {
              "$id": "#/plugins/displayLayerProgress/enabled",
              "type": "boolean",
              "default": true
            }
          },
          "additionalProperties": false
        },
        "enclosure": {
          "$id": "#/plugins/enclosure",
          "type": "object",
          "required": ["enabled", "ambientSensorID", "filament1SensorID", "filament2SensorID"],
          "properties": {
            "enabled": {
              "$id": "#/plugins/enclosure/enabled",
              "type": "boolean",
              "default": true
            },
            "ambientSensorID": {
              "$id": "#/plugins/enclosure/ambientSensorID",
              "type": ["number", "null"],
              "default": null
            },
            "filament1SensorID": {
              "$id": "#/plugins/enclosure/filament1SensorID",
              "type": ["number", "null"],
              "default": null
            },
            "filament2SensorID": {
              "$id": "#/plugins/enclosure/filament2SensorID",
              "type": ["number", "null"],
              "default": null
            }
          },
          "additionalProperties": false
        },
        "filamentManager": {
          "$id": "#/plugins/filamentManager",
          "type": "object",
          "required": ["enabled"],
          "properties": {
            "enabled": {
              "$id": "#/plugins/filamentManager/enabled",
              "type": "boolean",
              "default": false
            }
          },
          "additionalProperties": false
        },
        "spoolManager": {
          "$id": "#/plugins/spoolManager",
          "type": "object",
          "required": ["enabled"],
          "properties": {
            "enabled": {
              "$id": "#/plugins/spoolManager/enabled",
              "type": "boolean",
              "default": false
            }
          },
          "additionalProperties": false
        },
        "preheatButton": {
          "$id": "#/plugins/preheatButton",
          "type": "object",
          "required": ["enabled"],
          "properties": {
            "enabled": {
              "$id": "#/plugins/preheatButton/enabled",
              "type": "boolean",
              "default": true
            }
          },
          "additionalProperties": false
        },
        "printTimeGenius": {
          "$id": "#/plugins/printTimeGenius",
          "type": "object",
          "required": ["enabled"],
          "properties": {
            "enabled": {
              "$id": "#/plugins/printTimeGenius/enabled",
              "type": "boolean",
              "default": true
            }
          },
          "additionalProperties": false
        },
        "psuControl": {
          "$id": "#/plugins/psuControl",
          "type": "object",
          "required": ["enabled", "turnOnPSUWhenExitingSleep"],
          "properties": {
            "enabled": {
              "$id": "#/plugins/psuControl/enabled",
              "type": "boolean",
              "default": false
            }
          },
          "additionalProperties": false
        },
        "ophom": {
          "$id": "#/plugins/ophom",
          "type": "object",
          "required": ["enabled"],
          "properties": {
            "enabled": {
              "$id": "#/plugins/ophom/enabled",
              "type": "boolean",
              "default": false
            }
          },
          "additionalProperties": false
        },
        "tpLinkSmartPlug": {
          "$id": "#/plugins/tpLinkSmartPlug",
          "type": "object",
          "required": ["enabled", "smartPlugIP"],
          "properties": {
            "enabled": {
              "$id": "#/plugins/tpLinkSmartPlug/enabled",
              "type": "boolean",
              "default": false
            },
            "smartPlugIP": {
              "$id": "#/plugins/tpLinkSmartPlug/smartPlugIP",
              "type": "string",
              "default": "127.0.0.1"
            }
          },
          "additionalProperties": false
        },
        "tasmota": {
          "$id": "#/plugins/tasmota",
          "type": "object",
          "required": ["enabled", "ip", "index"],
          "properties": {
            "enabled": {
              "$id": "#/plugins/tasmota/enabled",
              "type": "boolean",
              "default": false
            },
            "ip": {
              "$id": "#/plugins/tasmota/ip",
              "type": "string",
              "default": "127.0.0.1"
            },
            "index": {
              "$id": "#/plugins/tasmota/index",
              "type": ["number", "null"],
              "default": null
            }
          },
          "additionalProperties": false
        },
        "tasmotaMqtt": {
          "$id": "#/plugins/tasmotaMqtt",
          "type": "object",
          "required": ["enabled", "topic", "relayNumber"],
          "properties": {
            "enabled": {
              "$id": "#/plugins/tasmotaMqtt/enabled",
              "type": "boolean",
              "default": false
            },
            "topic": {
              "$id": "#/plugins/tasmotaMqtt/topic",
              "type": "string",
              "default": "topic"
            },
            "relayNumber": {
              "$id": "#/plugins/tasmotaMqtt/relayNumber",
              "type": ["number", "null"],
              "default": null
            }
          },
          "additionalProperties": false
        },
        "tuya": {
          "$id": "#/plugins/tuya",
          "type": "object",
          "required": ["enabled", "label"],
          "properties": {
            "enabled": {
              "$id": "#/plugins/tuya/enabled",
              "type": "boolean",
              "default": false
            },
            "label": {
              "$id": "#/plugins/tuya/label",
              "type": "string",
              "default": "label"
            }
          },
          "additionalProperties": false
        },
        "wemo": {
          "$id": "#/plugins/wemo",
          "type": "object",
          "required": ["enabled", "ip"],
          "properties": {
            "enabled": {
              "$id": "#/plugins/wemo/enabled",
              "type": "boolean",
              "default": false
            },
            "ip": {
              "$id": "#/plugins/wemo/ip",
              "type": "string",
              "default": "127.0.0.1"
            },
            "port": {
              "$id": "#/plugins/wemo/port",
              "type": "number",
              "default": 49152
            }
          },
          "additionalProperties": false
        }
      },
      "additionalProperties": false
    },
    "octodash": {
      "$id": "#/octodash",
      "type": "object",
      "required": [
        "customActions",
        "fileSorting",
        "invertAxisControl",
        "pollingInterval",
        "touchscreen",
        "turnScreenOffWhileSleeping",
        "turnOnPrinterWhenExitingSleep",
        "preferPreviewWhilePrinting",
        "previewProgressCircle",
        "screenSleepCommand",
        "screenWakeupCommand",
        "showExtruderControl",
        "showNotificationCenterIcon",
        "defaultDirectory"
      ],
      "properties": {
        "customActions": {
          "$id": "#/octodash/customActions",
          "type": "array",
          "default": [
            {
              "icon": "home",
              "command": "G28",
              "color": "#dcdde1",
              "confirm": false,
              "exit": true
            },
            {
              "icon": "ruler-vertical",
              "command": "G29",
              "color": "#4bae50",
              "confirm": false,
              "exit": true
            },
            {
              "icon": "fire-alt",
              "command": "M140 S50; M104 S185",
              "color": "#e1b12c",
              "confirm": false,
              "exit": true
            },
            {
              "icon": "snowflake",
              "command": "M140 S0; M104 S0",
              "color": "#0097e6",
              "confirm": false,
              "exit": true
            },
            {
              "icon": "redo-alt",
              "command": "[!RELOAD]",
              "color": "#7f8fa6",
              "confirm": true,
              "exit": false
            },
            {
              "icon": "power-off",
              "command": "[!SHUTDOWN]",
              "color": "#e84118",
              "confirm": true,
              "exit": false
            }
          ],
          "items": {
            "$ref": "#/definitions/customAction"
          }
        },
        "fileSorting": {
          "$id": "#/octodash/fileSorting",
          "type": "object",
          "required": ["attribute", "order"],
          "properties": {
            "attribute": {
              "$id": "#/octodash/fileSorting/attribute",
              "type": "string",
              "pattern": "^(name|date|size)$",
              "default": "name"
            },
            "order": {
              "$id": "#/octodash/fileSorting/order",
              "type": "string",
              "pattern": "^(asc|dsc)$",
              "default": "asc"
            }
          },
          "additionalProperties": false
        },
        "invertAxisControl": {
          "$id": "#/octodash/invertAxisControl",
          "type": "object",
          "required": ["x", "y", "z"],
          "properties": {
            "x": {
              "$id": "#/octodash/invertAxisControl/x",
              "type": "boolean",
              "default": false
            },
            "y": {
              "$id": "#/octodash/invertAxisControl/y",
              "type": "boolean",
              "default": false
            },
            "z": {
              "$id": "#/octodash/invertAxisControl/z",
              "type": "boolean",
              "default": false
            }
          },
          "additionalProperties": false
        },
        "pollingInterval": {
          "$id": "#/octodash/pollingInterval",
          "type": "integer",
          "default": 2000
        },
        "touchscreen": {
          "$id": "#/octodash/touchscreen",
          "type": "boolean",
          "default": true
        },
        "turnScreenOffWhileSleeping": {
          "$id": "#/octodash/turnScreenOffWhileSleeping",
          "type": "boolean",
          "default": false
        },
        "turnOnPrinterWhenExitingSleep": {
          "$id": "#/octodash/turnOnPrinterWhenExitingSleep",
          "type": "boolean",
          "default": false
        },
        "preferPreviewWhilePrinting": {
          "$id": "#/octodash/preferPreviewWhilePrinting",
          "type": "boolean",
          "default": false
        },
        "previewProgressCircle": {
          "$id": "#/octodash/previewProgressCircle",
          "type": "boolean",
          "default": false
        },
        "screenSleepCommand": {
          "$id": "#/octodash/screenSleepCommand",
          "type": "string",
          "pattern": "^(.*)$",
          "default": "xset dpms force standby"
        },
        "screenWakeupCommand": {
          "$id": "#/octodash/screenWakeupCommand",
          "type": "string",
          "pattern": "^(.*)$",
          "default": "xset s off && xset -dpms && xset s noblank"
        },
        "showExtruderControl": {
          "$id": "#/octodash/showExtruderControl",
          "type": "boolean",
          "default": true
        },
        "showNotificationCenterIcon": {
          "$id": "#/octodash/showNotificationCenterIcon",
          "type": "boolean",
          "default": true
        },
        "defaultDirectory": {
          "$id": "#/octodash/defaultDirectory",
          "type": "string",
          "pattern": "^/(.*)$",
          "default": "/"
        }
      },
      "additionalProperties": false
    }
  },
  "additionalProperties": false
}
