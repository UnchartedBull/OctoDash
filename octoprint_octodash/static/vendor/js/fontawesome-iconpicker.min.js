/*!
 * Font Awesome Icon Picker
 * https://farbelous.github.io/fontawesome-iconpicker/
 *
 * @author Javi Aguilar, itsjavi.com
 * @license MIT License
 * @see https://github.com/farbelous/fontawesome-iconpicker/blob/master/LICENSE
 */


!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(q){q.ui=q.ui||{};q.ui.version="1.12.1";!function(){var a,w=Math.max,x=Math.abs,i=/left|center|right/,s=/top|center|bottom/,o=/[\+\-]\d+(\.[\d]+)?%?/,c=/^\w+/,n=/%$/,l=q.fn.pos;function z(e,t,r){return[parseFloat(e[0])*(n.test(e[0])?t/100:1),parseFloat(e[1])*(n.test(e[1])?r/100:1)]}function j(e,t){return parseInt(q.css(e,t),10)||0}q.pos={scrollbarWidth:function(){if(void 0!==a)return a;var e,t,r=q("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),i=r.children()[0];return q("body").append(r),e=i.offsetWidth,r.css("overflow","scroll"),e===(t=i.offsetWidth)&&(t=r[0].clientWidth),r.remove(),a=e-t},getScrollInfo:function(e){var t=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),r=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),i="scroll"===t||"auto"===t&&e.width<e.element[0].scrollWidth;return{width:"scroll"===r||"auto"===r&&e.height<e.element[0].scrollHeight?q.pos.scrollbarWidth():0,height:i?q.pos.scrollbarWidth():0}},getWithinInfo:function(e){var t=q(e||window),r=q.isWindow(t[0]),i=!!t[0]&&9===t[0].nodeType;return{element:t,isWindow:r,isDocument:i,offset:!r&&!i?q(e).offset():{left:0,top:0},scrollLeft:t.scrollLeft(),scrollTop:t.scrollTop(),width:t.outerWidth(),height:t.outerHeight()}}},q.fn.pos=function(m){if(!m||!m.of)return l.apply(this,arguments);m=q.extend({},m);var p,d,u,g,f,e,t,r,T=q(m.of),b=q.pos.getWithinInfo(m.within),v=q.pos.getScrollInfo(b),k=(m.collision||"flip").split(" "),y={};return e=9===(r=(t=T)[0]).nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:q.isWindow(r)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:r.preventDefault?{width:0,height:0,offset:{top:r.pageY,left:r.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()},T[0].preventDefault&&(m.at="left top"),d=e.width,u=e.height,g=e.offset,f=q.extend({},g),q.each(["my","at"],function(){var e,t,r=(m[this]||"").split(" ");1===r.length&&(r=i.test(r[0])?r.concat(["center"]):s.test(r[0])?["center"].concat(r):["center","center"]),r[0]=i.test(r[0])?r[0]:"center",r[1]=s.test(r[1])?r[1]:"center",e=o.exec(r[0]),t=o.exec(r[1]),y[this]=[e?e[0]:0,t?t[0]:0],m[this]=[c.exec(r[0])[0],c.exec(r[1])[0]]}),1===k.length&&(k[1]=k[0]),"right"===m.at[0]?f.left+=d:"center"===m.at[0]&&(f.left+=d/2),"bottom"===m.at[1]?f.top+=u:"center"===m.at[1]&&(f.top+=u/2),p=z(y.at,d,u),f.left+=p[0],f.top+=p[1],this.each(function(){var r,e,o=q(this),c=o.outerWidth(),n=o.outerHeight(),t=j(this,"marginLeft"),i=j(this,"marginTop"),a=c+t+j(this,"marginRight")+v.width,s=n+i+j(this,"marginBottom")+v.height,l=q.extend({},f),h=z(y.my,o.outerWidth(),o.outerHeight());"right"===m.my[0]?l.left-=c:"center"===m.my[0]&&(l.left-=c/2),"bottom"===m.my[1]?l.top-=n:"center"===m.my[1]&&(l.top-=n/2),l.left+=h[0],l.top+=h[1],r={marginLeft:t,marginTop:i},q.each(["left","top"],function(e,t){q.ui.pos[k[e]]&&q.ui.pos[k[e]][t](l,{targetWidth:d,targetHeight:u,elemWidth:c,elemHeight:n,collisionPosition:r,collisionWidth:a,collisionHeight:s,offset:[p[0]+h[0],p[1]+h[1]],my:m.my,at:m.at,within:b,elem:o})}),m.using&&(e=function(e){var t=g.left-l.left,r=t+d-c,i=g.top-l.top,a=i+u-n,s={target:{element:T,left:g.left,top:g.top,width:d,height:u},element:{element:o,left:l.left,top:l.top,width:c,height:n},horizontal:r<0?"left":0<t?"right":"center",vertical:a<0?"top":0<i?"bottom":"middle"};d<c&&x(t+r)<d&&(s.horizontal="center"),u<n&&x(i+a)<u&&(s.vertical="middle"),w(x(t),x(r))>w(x(i),x(a))?s.important="horizontal":s.important="vertical",m.using.call(this,e,s)}),o.offset(q.extend(l,{using:e}))})},q.ui.pos={_trigger:function(e,t,r,i){t.elem&&t.elem.trigger({type:r,position:e,positionData:t,triggered:i})},fit:{left:function(e,t){q.ui.pos._trigger(e,t,"posCollide","fitLeft");var r,i=t.within,a=i.isWindow?i.scrollLeft:i.offset.left,s=i.width,o=e.left-t.collisionPosition.marginLeft,c=a-o,n=o+t.collisionWidth-s-a;t.collisionWidth>s?0<c&&n<=0?(r=e.left+c+t.collisionWidth-s-a,e.left+=c-r):e.left=0<n&&c<=0?a:n<c?a+s-t.collisionWidth:a:0<c?e.left+=c:0<n?e.left-=n:e.left=w(e.left-o,e.left),q.ui.pos._trigger(e,t,"posCollided","fitLeft")},top:function(e,t){q.ui.pos._trigger(e,t,"posCollide","fitTop");var r,i=t.within,a=i.isWindow?i.scrollTop:i.offset.top,s=t.within.height,o=e.top-t.collisionPosition.marginTop,c=a-o,n=o+t.collisionHeight-s-a;t.collisionHeight>s?0<c&&n<=0?(r=e.top+c+t.collisionHeight-s-a,e.top+=c-r):e.top=0<n&&c<=0?a:n<c?a+s-t.collisionHeight:a:0<c?e.top+=c:0<n?e.top-=n:e.top=w(e.top-o,e.top),q.ui.pos._trigger(e,t,"posCollided","fitTop")}},flip:{left:function(e,t){q.ui.pos._trigger(e,t,"posCollide","flipLeft");var r,i,a=t.within,s=a.offset.left+a.scrollLeft,o=a.width,c=a.isWindow?a.scrollLeft:a.offset.left,n=e.left-t.collisionPosition.marginLeft,l=n-c,h=n+t.collisionWidth-o-c,m="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,p="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,d=-2*t.offset[0];l<0?((r=e.left+m+p+d+t.collisionWidth-o-s)<0||r<x(l))&&(e.left+=m+p+d):0<h&&(0<(i=e.left-t.collisionPosition.marginLeft+m+p+d-c)||x(i)<h)&&(e.left+=m+p+d),q.ui.pos._trigger(e,t,"posCollided","flipLeft")},top:function(e,t){q.ui.pos._trigger(e,t,"posCollide","flipTop");var r,i,a=t.within,s=a.offset.top+a.scrollTop,o=a.height,c=a.isWindow?a.scrollTop:a.offset.top,n=e.top-t.collisionPosition.marginTop,l=n-c,h=n+t.collisionHeight-o-c,m="top"===t.my[1]?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,p="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,d=-2*t.offset[1];l<0?((i=e.top+m+p+d+t.collisionHeight-o-s)<0||i<x(l))&&(e.top+=m+p+d):0<h&&(0<(r=e.top-t.collisionPosition.marginTop+m+p+d-c)||x(r)<h)&&(e.top+=m+p+d),q.ui.pos._trigger(e,t,"posCollided","flipTop")}},flipfit:{left:function(){q.ui.pos.flip.left.apply(this,arguments),q.ui.pos.fit.left.apply(this,arguments)},top:function(){q.ui.pos.flip.top.apply(this,arguments),q.ui.pos.fit.top.apply(this,arguments)}}},function(){var e,t,r,i,a,s=document.getElementsByTagName("body")[0],o=document.createElement("div");for(a in e=document.createElement(s?"div":"body"),r={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},s&&q.extend(r,{position:"absolute",left:"-1000px",top:"-1000px"}),r)e.style[a]=r[a];e.appendChild(o),(t=s||document.documentElement).insertBefore(e,t.firstChild),o.style.cssText="position: absolute; left: 10.7432222px;",i=q(o).offset().left,q.support.offsetFractions=10<i&&i<11,e.innerHTML="",t.removeChild(e)}()}();q.ui.position}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):window.jQuery&&!window.jQuery.fn.iconpicker&&e(window.jQuery)}(function(n){"use strict";var r=function(e){return!1===e||""===e||null==e},i=function(e){return 0<n(e).length},a=function(e){return"string"==typeof e||e instanceof String},s=function(e,t){return-1!==n.inArray(e,t)},o=function(e,t){this._id=o._idCounter++,this.element=n(e).addClass("iconpicker-element"),this._trigger("iconpickerCreate",{iconpickerValue:this.iconpickerValue}),this.options=n.extend({},o.defaultOptions,this.element.data(),t),this.options.templates=n.extend({},o.defaultOptions.templates,this.options.templates),this.options.originalPlacement=this.options.placement,this.container=!!i(this.options.container)&&n(this.options.container),!1===this.container&&(this.element.is(".dropdown-toggle")?this.container=n("~ .dropdown-menu:first",this.element):this.container=this.element.is("input,textarea,button,.btn")?this.element.parent():this.element),this.container.addClass("iconpicker-container"),this.isDropdownMenu()&&(this.options.placement="inline"),this.input=!!this.element.is("input,textarea")&&this.element.addClass("iconpicker-input"),!1===this.input&&(this.input=this.container.find(this.options.input),this.input.is("input,textarea")||(this.input=!1)),this.component=this.isDropdownMenu()?this.container.parent().find(this.options.component):this.container.find(this.options.component),0===this.component.length?this.component=!1:this.component.find("i").addClass("iconpicker-component"),this._createPopover(),this._createIconpicker(),0===this.getAcceptButton().length&&(this.options.mustAccept=!1),this.isInputGroup()?this.container.parent().append(this.popover):this.container.append(this.popover),this._bindElementEvents(),this._bindWindowEvents(),this.update(this.options.selected),this.isInline()&&this.show(),this._trigger("iconpickerCreated",{iconpickerValue:this.iconpickerValue})};o._idCounter=0,o.defaultOptions={title:!1,selected:!1,defaultValue:!1,placement:"bottom",collision:"none",animation:!0,hideOnSelect:!1,showFooter:!1,searchInFooter:!1,mustAccept:!1,selectedCustomClass:"bg-primary",icons:[],fullClassFormatter:function(e){return e},input:"input,.iconpicker-input",inputSearch:!1,container:!1,component:".input-group-addon,.iconpicker-component",templates:{popover:'<div class="iconpicker-popover popover"><div class="arrow"></div><div class="popover-title"></div><div class="popover-content"></div></div>',footer:'<div class="popover-footer"></div>',buttons:'<button class="iconpicker-btn iconpicker-btn-cancel btn btn-default btn-sm">Cancel</button> <button class="iconpicker-btn iconpicker-btn-accept btn btn-primary btn-sm">Accept</button>',search:'<input type="search" class="form-control iconpicker-search" placeholder="Type to filter" />',iconpicker:'<div class="iconpicker"><div class="iconpicker-items"></div></div>',iconpickerItem:'<a role="button" href="javascript:;" class="iconpicker-item"><i></i></a>'}},o.batch=function(e,t){var r=Array.prototype.slice.call(arguments,2);return n(e).each(function(){var e=n(this).data("iconpicker");e&&e[t].apply(e,r)})},o.prototype={constructor:o,options:{},_id:0,_trigger:function(e,t){t=t||{},this.element.trigger(n.extend({type:e,iconpickerInstance:this},t))},_createPopover:function(){this.popover=n(this.options.templates.popover);var e=this.popover.find(".popover-title");if(this.options.title&&e.append(n('<div class="popover-title-text">'+this.options.title+"</div>")),this.hasSeparatedSearchInput()&&!this.options.searchInFooter?e.append(this.options.templates.search):this.options.title||e.remove(),this.options.showFooter&&!r(this.options.templates.footer)){var t=n(this.options.templates.footer);this.hasSeparatedSearchInput()&&this.options.searchInFooter&&t.append(n(this.options.templates.search)),r(this.options.templates.buttons)||t.append(n(this.options.templates.buttons)),this.popover.append(t)}return!0===this.options.animation&&this.popover.addClass("fade"),this.popover},_createIconpicker:function(){var r=this;this.iconpicker=n(this.options.templates.iconpicker);var e=function(e){var t=n(this);t.is("i")&&(t=t.parent()),r._trigger("iconpickerSelect",{iconpickerItem:t,iconpickerValue:r.iconpickerValue}),!1===r.options.mustAccept?(r.update(t.data("iconpickerValue")),r._trigger("iconpickerSelected",{iconpickerItem:this,iconpickerValue:r.iconpickerValue})):r.update(t.data("iconpickerValue"),!0),r.options.hideOnSelect&&!1===r.options.mustAccept&&r.hide()},t=n(this.options.templates.iconpickerItem),i=[];for(var a in this.options.icons)if("string"==typeof this.options.icons[a].title){var s=t.clone();if(s.find("i").addClass(this.options.fullClassFormatter(this.options.icons[a].title)),s.data("iconpickerValue",this.options.icons[a].title).on("click.iconpicker",e),s.attr("title","."+this.options.icons[a].title),0<this.options.icons[a].searchTerms.length){for(var o="",c=0;c<this.options.icons[a].searchTerms.length;c++)o=o+this.options.icons[a].searchTerms[c]+" ";s.attr("data-search-terms",o)}i.push(s)}return this.iconpicker.find(".iconpicker-items").append(i),this.popover.find(".popover-content").append(this.iconpicker),this.iconpicker},_isEventInsideIconpicker:function(e){var t=n(e.target);return!((!t.hasClass("iconpicker-element")||t.hasClass("iconpicker-element")&&!t.is(this.element))&&0===t.parents(".iconpicker-popover").length)},_bindElementEvents:function(){var t=this;this.getSearchInput().on("keyup.iconpicker",function(){t.filter(n(this).val().toLowerCase())}),this.getAcceptButton().on("click.iconpicker",function(){var e=t.iconpicker.find(".iconpicker-selected").get(0);t.update(t.iconpickerValue),t._trigger("iconpickerSelected",{iconpickerItem:e,iconpickerValue:t.iconpickerValue}),t.isInline()||t.hide()}),this.getCancelButton().on("click.iconpicker",function(){t.isInline()||t.hide()}),this.element.on("focus.iconpicker",function(e){t.show(),e.stopPropagation()}),this.hasComponent()&&this.component.on("click.iconpicker",function(){t.toggle()}),this.hasInput()&&this.input.on("keyup.iconpicker",function(e){s(e.keyCode,[38,40,37,39,16,17,18,9,8,91,93,20,46,186,190,46,78,188,44,86])?t._updateFormGroupStatus(!1!==t.getValid(this.value)):t.update(),!0===t.options.inputSearch&&t.filter(n(this).val().toLowerCase())})},_bindWindowEvents:function(){var e=n(window.document),t=this,r=".iconpicker.inst"+this._id;n(window).on("resize.iconpicker"+r+" orientationchange.iconpicker"+r,function(e){t.popover.hasClass("in")&&t.updatePlacement()}),t.isInline()||e.on("mouseup"+r,function(e){t._isEventInsideIconpicker(e)||t.isInline()||t.hide()})},_unbindElementEvents:function(){this.popover.off(".iconpicker"),this.element.off(".iconpicker"),this.hasInput()&&this.input.off(".iconpicker"),this.hasComponent()&&this.component.off(".iconpicker"),this.hasContainer()&&this.container.off(".iconpicker")},_unbindWindowEvents:function(){n(window).off(".iconpicker.inst"+this._id),n(window.document).off(".iconpicker.inst"+this._id)},updatePlacement:function(e,t){e=e||this.options.placement,this.options.placement=e,t=!0===(t=t||this.options.collision)?"flip":t;var r={at:"right bottom",my:"right top",of:this.hasInput()&&!this.isInputGroup()?this.input:this.container,collision:!0===t?"flip":t,within:window};if(this.popover.removeClass("inline topLeftCorner topLeft top topRight topRightCorner rightTop right rightBottom bottomRight bottomRightCorner bottom bottomLeft bottomLeftCorner leftBottom left leftTop"),"object"==typeof e)return this.popover.pos(n.extend({},r,e));switch(e){case"inline":r=!1;break;case"topLeftCorner":r.my="right bottom",r.at="left top";break;case"topLeft":r.my="left bottom",r.at="left top";break;case"top":r.my="center bottom",r.at="center top";break;case"topRight":r.my="right bottom",r.at="right top";break;case"topRightCorner":r.my="left bottom",r.at="right top";break;case"rightTop":r.my="left bottom",r.at="right center";break;case"right":r.my="left center",r.at="right center";break;case"rightBottom":r.my="left top",r.at="right center";break;case"bottomRightCorner":r.my="left top",r.at="right bottom";break;case"bottomRight":r.my="right top",r.at="right bottom";break;case"bottom":r.my="center top",r.at="center bottom";break;case"bottomLeft":r.my="left top",r.at="left bottom";break;case"bottomLeftCorner":r.my="right top",r.at="left bottom";break;case"leftBottom":r.my="right top",r.at="left center";break;case"left":r.my="right center",r.at="left center";break;case"leftTop":r.my="right bottom",r.at="left center";break;default:return!1}return this.popover.css({display:"inline"===this.options.placement?"":"block"}),!1!==r?this.popover.pos(r).css("maxWidth",n(window).width()-this.container.offset().left-5):this.popover.css({top:"auto",right:"auto",bottom:"auto",left:"auto",maxWidth:"none"}),this.popover.addClass(this.options.placement),!0},_updateComponents:function(){if(this.iconpicker.find(".iconpicker-item.iconpicker-selected").removeClass("iconpicker-selected "+this.options.selectedCustomClass),this.iconpickerValue&&this.iconpicker.find("."+this.options.fullClassFormatter(this.iconpickerValue).replace(/ /g,".")).parent().addClass("iconpicker-selected "+this.options.selectedCustomClass),this.hasComponent()){var e=this.component.find("i");0<e.length?e.attr("class",this.options.fullClassFormatter(this.iconpickerValue)):this.component.html(this.getHtml())}},_updateFormGroupStatus:function(e){return!!this.hasInput()&&(!1!==e?this.input.parents(".form-group:first").removeClass("has-error"):this.input.parents(".form-group:first").addClass("has-error"),!0)},getValid:function(e){a(e)||(e="");var t=""===e;e=n.trim(e);for(var r=!1,i=0;i<this.options.icons.length;i++)if(this.options.icons[i].title===e){r=!0;break}return!(!r&&!t)&&e},setValue:function(e){var t=this.getValid(e);return!1!==t?(this.iconpickerValue=t,this._trigger("iconpickerSetValue",{iconpickerValue:t}),this.iconpickerValue):(this._trigger("iconpickerInvalid",{iconpickerValue:e}),!1)},getHtml:function(){return'<i class="'+this.options.fullClassFormatter(this.iconpickerValue)+'"></i>'},setSourceValue:function(e){return!1!==(e=this.setValue(e))&&""!==e&&(this.hasInput()?this.input.val(this.iconpickerValue):this.element.data("iconpickerValue",this.iconpickerValue),this._trigger("iconpickerSetSourceValue",{iconpickerValue:e})),e},getSourceValue:function(e){var t=e=e||this.options.defaultValue;return void 0!==(t=this.hasInput()?this.input.val():this.element.data("iconpickerValue"))&&""!==t&&null!==t&&!1!==t||(t=e),t},hasInput:function(){return!1!==this.input},isInputSearch:function(){return this.hasInput()&&!0===this.options.inputSearch},isInputGroup:function(){return this.container.is(".input-group")},isDropdownMenu:function(){return this.container.is(".dropdown-menu")},hasSeparatedSearchInput:function(){return!1!==this.options.templates.search&&!this.isInputSearch()},hasComponent:function(){return!1!==this.component},hasContainer:function(){return!1!==this.container},getAcceptButton:function(){return this.popover.find(".iconpicker-btn-accept")},getCancelButton:function(){return this.popover.find(".iconpicker-btn-cancel")},getSearchInput:function(){return this.popover.find(".iconpicker-search")},filter:function(i){if(r(i))return this.iconpicker.find(".iconpicker-item").show(),n(!1);var a=[];return this.iconpicker.find(".iconpicker-item").each(function(){var e=n(this),t=e.attr("title").toLowerCase();t=t+" "+(e.attr("data-search-terms")?e.attr("data-search-terms").toLowerCase():"");var r=!1;try{r=new RegExp("(^|\\W)"+i,"g")}catch(e){r=!1}!1!==r&&t.match(r)?(a.push(e),e.show()):e.hide()}),a},show:function(){if(this.popover.hasClass("in"))return!1;n.iconpicker.batch(n(".iconpicker-popover.in:not(.inline)").not(this.popover),"hide"),this._trigger("iconpickerShow",{iconpickerValue:this.iconpickerValue}),this.updatePlacement(),this.popover.addClass("in"),setTimeout(n.proxy(function(){this.popover.css("display",this.isInline()?"":"block"),this._trigger("iconpickerShown",{iconpickerValue:this.iconpickerValue})},this),this.options.animation?300:1)},hide:function(){if(!this.popover.hasClass("in"))return!1;this._trigger("iconpickerHide",{iconpickerValue:this.iconpickerValue}),this.popover.removeClass("in"),setTimeout(n.proxy(function(){this.popover.css("display","none"),this.getSearchInput().val(""),this.filter(""),this._trigger("iconpickerHidden",{iconpickerValue:this.iconpickerValue})},this),this.options.animation?300:1)},toggle:function(){this.popover.is(":visible")?this.hide():this.show(!0)},update:function(e,t){return e=e||this.getSourceValue(this.iconpickerValue),this._trigger("iconpickerUpdate",{iconpickerValue:this.iconpickerValue}),!0===t?e=this.setValue(e):(e=this.setSourceValue(e),this._updateFormGroupStatus(!1!==e)),!1!==e&&this._updateComponents(),this._trigger("iconpickerUpdated",{iconpickerValue:this.iconpickerValue}),e},destroy:function(){this._trigger("iconpickerDestroy",{iconpickerValue:this.iconpickerValue}),this.element.removeData("iconpicker").removeData("iconpickerValue").removeClass("iconpicker-element"),this._unbindElementEvents(),this._unbindWindowEvents(),n(this.popover).remove(),this._trigger("iconpickerDestroyed",{iconpickerValue:this.iconpickerValue})},disable:function(){return!!this.hasInput()&&(this.input.prop("disabled",!0),!0)},enable:function(){return!!this.hasInput()&&(this.input.prop("disabled",!1),!0)},isDisabled:function(){return!!this.hasInput()&&!0===this.input.prop("disabled")},isInline:function(){return"inline"===this.options.placement||this.popover.hasClass("inline")}},n.iconpicker=o,n.fn.iconpicker=function(t){return this.each(function(){var e=n(this);e.data("iconpicker")||e.data("iconpicker",new o(this,"object"==typeof t?t:{}))})},o.defaultOptions=n.extend(o.defaultOptions,{icons:[]})});